# Лабораторна 2. Рефакторинг програмного коду.

**Автор проєкту:** Анонімний студент ФКНК Київського національного університету ім. Тараса Шевченка.

**Опис проєкту:** Додаток для систем Windows 7+ який дозволяє користувачеві пройти 5 рівнів складання пазлів різної складності, а також дозволяє завантажувати своє зображення для гри у пазл з ним.

**Рефакторинг виконав:** Точаненко Владислав

[Оригінальний код додатку](https://github.com/knu-5-tochanenko/SoftwareReengineering/tree/master/Lab_1/Original).

[Код додатку із базовим рефакторингом](https://github.com/knu-5-tochanenko/SoftwareReengineering/tree/master/Lab_1/Refactored).

## Чек-ліст змін

* [x] ~~Позбавитись сінглтону~~ (Використання сінглтону виправдано, адже він зберігає налаштування для усього додатку)
* [x] 1. Виправити помилку коли при початку нової гри зберігається дата про пройдені рівні, що не дає можливість збільшуватись лічильнику зірочок (додати `users.remove("")` у групі налаштувань `QSettings`: `"puzzle1"`)
* [ ] 2. Змінити дизайн сторінок (менше відстані маж об'єктами, більші кнопки, більше кольорів, ...)
* [ ] Замінити усі строки у додатку на строки із необхідним регістром
* [ ] Додатку необхідну інформацію про рівні на сторінці `levels`: назви рівнів, критерій їх появи, які виконані, а які - ні
* [ ] Додати затримку після того, як було успішно складено паззл
* [ ] Додати текст, коли було зроблено пазл у `ForPleasure` режимі
* [ ] Додати підказки до кнопок у `ForPleasure` режимі
* [ ] Пофіксити поведінку кнопок для переходу між етапами у `ForPleasure` режимі
* [ ] Виправити помилку при закритті поточного паззлу, коли з'являється головне меню, а сторінка паззлу не зникає
* [ ] Виправити помилку коли при закритті додатку лише закривається UI, а процес залишається активним

### 1. Виправити помилку коли при початку нової гри зберігається дата про пройдені рівні, що не дає можливість збільшуватись лічильнику зірочок

Повні зміни у [мердж реквесті](https://github.com/knu-5-tochanenko/SoftwareReengineering/pull/6/files).

При натисканні на `New Game` з'являється помилка, адже зберігаються дані про пройдені рівні, що не дає можливості отримувати зірочки за перший рівень, що за собою робить не можливим перехід на 2 рівень. Необхідно було додати просту функцію очистки даних:

```cpp
QSettings users("Users", "puzzle1");
users.beginGroup("puzzle1");
users.remove("");
users.endGroup();
```

### 2. Змінити дизайн сторінок (менше відстані маж об'єктами, більші кнопки, більше кольорів, ...)

## **Головний екран:**

![alt text](./images/1.png)

## **Екран вибору режиму:**

![alt text](./images/2.png)

## **Екран вибору рівня:**

![alt text](./images/3.png)

## **Екран вибору підрівня:**

Дизайн був залишений орігінальний.

![alt text](./images/4.png)

## **Екран паззлу:**

![alt text](./images/5.png)

## **Екран гри "For Pleasure":**

![alt text](./images/6.png)